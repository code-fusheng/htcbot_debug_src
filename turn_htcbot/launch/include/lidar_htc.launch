<launch>

    <arg name="htc_lidar_mode" default="ls_C16" doc="opt: ls_N10P, ls_N10P_net, ls_C16"/>
    <arg name="htc_lidar_point_topic" default="/rslidar_points" />
    <arg name="htc_lidar_scan_topic" default="/scan" />
    <arg name="htc_lidar_frame" default="rslidar" />
    <arg name="htc_lidar_port" default="10.168.1.200" />

    <!--所有雷达正前方（小车正前方）为0度角方向，扫描角度顺时针方向增加 -->
    <!--
        disable_min：多角度屏蔽角度起始值 
        disable_max：多角度屏蔽角度结束值 ,不开启角度屏蔽默认扫描角度为0°~360° 
    -->
    <!--Example: disable_min=[40,90]  disable_max=[50,120] 表示雷达扫描时屏蔽40°~50°,90°~120°的区间,可屏蔽单个或多个区间-->

    <!-- 镭神 N10P 雷达参数 -->
    <param name="lslidar_driver_node/truncated_mode" value="0"/>    <!--0:不屏蔽角度 1:屏蔽角度-->
    <rosparam param="lslidar_driver_node/disable_min">[120]</rosparam> <!--角度左值-->
    <rosparam param="lslidar_driver_node/disable_max">[240]</rosparam> <!--角度右值-->

    <!-- 启动 镭神 N10P 雷达 -->
    <group if="$(eval htc_lidar_mode == 'ls_N10P')">
        <include file="$(find lslidar_driver_n10p)/launch/lslidar_serial.launch">
            <arg name="frame_id" value="$(arg htc_lidar_frame)" />
        </include>
    </group>

    <!-- 启动 镭神 C16 雷达 -->
    <group if="$(eval htc_lidar_mode == 'ls_C16')">
        <include file="$(find lslidar_driver)/launch/lslidar_c16.launch">
            <arg name="device_ip" value="$(arg htc_lidar_port)" />
            <arg name="frame_id" value="$(arg htc_lidar_frame)" />
            <arg name="pointcloud_topic" value="$(arg htc_lidar_point_topic)" />
            <arg name="scan_topic" value="$(arg htc_lidar_scan_topic)" />
        </include>
        <!-- <include file="$(find pointcloud_to_laserscan)/launch/pointcloud_2_scan.launch"></include> -->
        <!-- <include file="$(find pointcloud_to_laserscan/launch/pointcloud_scan.launch)" /> -->
    </group>

    <!-- 镭神智能C16 V2 -->
    <group if="$(eval htc_lidar_mode == 'ls_C16_v2')">
        <include file="$(find lslidar_driver_v2)/launch/lslidar_c16.launch">
            <arg name="device_ip" value="$(arg htc_lidar_port)" />
            <arg name="frame_id" value="$(arg htc_lidar_frame)" />
            <arg name="pointcloud_topic" value="$(arg htc_lidar_point_topic)" />
            <arg name="scan_topic" value="$(arg htc_lidar_scan_topic)" />
        </include> 
    </group>

    <!-- 镭神智能C16 V4 -->
    <group if="$(eval htc_lidar_mode == 'ls_C16_v4')">
        <include file="$(find lslidar_driver_v4)/launch/lslidar_c16.launch">
            <arg name="device_ip" value="$(arg htc_lidar_port)" />
            <arg name="frame_id" value="$(arg htc_lidar_frame)" />
            <arg name="pointcloud_topic" value="$(arg htc_lidar_point_topic)" />
            <arg name="scan_topic" value="$(arg htc_lidar_scan_topic)" />
        </include> 
    </group>

    <!-- 启动宇树 L1 雷达 -->
    <group if="$(eval htc_lidar_mode == 'unitree_L1')">
        <include file="$(find unitree_lidar_ros)/launch/run.launch">
        </include>
    </group>

</launch>
